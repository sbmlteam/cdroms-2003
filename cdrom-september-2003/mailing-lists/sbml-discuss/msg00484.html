<!-- MHonArc v2.4.6 -->
<!--X-Subject: [sbml&#45;discuss] Re: Hybrid Models Working Group (fwd) -->
<!--X-From-R13: Sq Tenax <rsenaxNzpf.nay.tbi> -->
<!--X-Date: Mon, 16 Jun 2003 05:37:42 &#45;0700 -->
<!--X-Message-Id: 20030616123518.GS456@mcs.anl.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>[sbml-discuss] Re: Hybrid Models Working Group (fwd)</TITLE>
<LINK REV="made" HREF="mailto:efrank@mcs.anl.gov">
</HEAD>
<BODY BGCOLOR="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00483.html">Date Prev</A>][<A HREF="msg00485.html">Date Next</A>][<A HREF="msg00483.html">Thread Prev</A>][<A HREF="msg00485.html">Thread Next</A>][<A HREF="maillist.html#00484">Date Index</A>][<A HREF="threads.html#00484">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[sbml-discuss] Re: Hybrid Models Working Group (fwd)</H1>
<HR>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<UL>
<LI><em>To</em>: <A HREF="mailto:sbml-discuss@caltech.edu">sbml-discuss@caltech.edu</A></LI>
<LI><em>Subject</em>: [sbml-discuss] Re: Hybrid Models Working Group (fwd)</LI>
<LI><em>From</em>: Ed Frank &lt;<A HREF="mailto:efrank@mcs.anl.gov">efrank@mcs.anl.gov</A>&gt;</LI>
<LI><em>Date</em>: Mon, 16 Jun 2003 07:35:18 -0500</LI>
</UL>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

----- Forwarded message from Thomas Kiehl &lt;kiehl@research.ge.com&gt; -----

Subject: Re: Hybrid Models Working Group
From: Thomas Kiehl &lt;kiehl@research.ge.com&gt;
To: Kouichi Takahashi &lt;shafi@sfc.keio.ac.jp&gt;
CC: m.j.1.schilstra@herts.ac.uk,
   "'Takeshi Sakurada'" &lt;sakurada@sfc.keio.ac.jp&gt;,
   "'Ed Frank'" &lt;efrank@mcs.anl.gov&gt;,
   "'vijay saraswat'" &lt;saraswat@cse.psu.edu&gt;,
   "'Mike McCollum'" &lt;jmccoll2@utk.edu&gt;, "'Greg Peterson'" &lt;gdp@utk.edu&gt;,
   "'Stefan Hoops'" &lt;shoops@vt.edu&gt;
Date: Fri, 13 Jun 2003 12:51:53 -0400

Thanks again Kouichi for your insight.  It is very useful to define what 
it is that we mean by "hybrid" and whether or not that should effect the 
definition of a model.

We have a system which we call "hybrid" as well.  I'm not sure by the 
definitions you give whether it falls into the mixed-mode or 
multi-algorithm category.

We assign the reactions in the model to be simulated using either a 
continuous method (ode's) or to be handled stochastically by a 
gillespie/gibson approach.   These methods run simultaneously and are 
synchronized by some scheme.  We also handle what could be called events 
and even delay differential equations.  Issues involved here include 
synchronization of time steps as well as state variables.

This assignment of reactions to "reaction engines" (that is the solution 
method) is done outside of sbml in our simulator's configuration file.  
Thus the model remains portable.  Also this allows us to run various 
experiments by changing the set of reactions assigned to each method.

Attached find a relatively recent version of a paper which we have 
submitted and revised for the journal Bioinformatics.

peace,
Tom

-- 
-----------------------------------------------------------
Tom Kiehl	               Email: kiehl@research.ge.com
Computer Scientist                   Dial-Comm:  8*833.4167
Advanced Computing Technologies      Phone:    518.387.4167
General Electric Global Research     Fax:      518.387.6845



Kouichi Takahashi wrote:

&gt;Hi Maria,
&gt;
&gt;Thanks for your response!
&gt;
&gt;
&gt;Ok, I think the term 'hybrid' is somewhat ambiguously defined here, and it 
&gt;points to
&gt;several different concepts:  
&gt;
&gt;- Mixed-mode -- some simulators like SPICE uses this term to mention 
&gt;                         continuous/discrete (analog/digital) 'hybrid' 
&gt;                         scheme of simulation
&gt;
&gt;- Multi-algorithm -- In my thesis I define this term to mean that multiple 
&gt;sub-models driven
&gt;                            by different simulation algorithms can coexist.
&gt;                            E-Cell is a multi-algorithm simulator, and I 
&gt;                            don't call it hybrid.
&gt;                            It is a 'composite' scheme, because there is 
&gt;                            modularity.
&gt;                            Hybrid usually means to put some different 
&gt;                            thing/entity into one single new thing/entity.
&gt;
&gt;                            As far as I know, E-Cell is the only software 
&gt;                            that support this
&gt;                            type of multi-algorithm simulations in systems 
&gt;                            biology and biochemical
&gt;                            simulators.      There must be some if I don't 
&gt;                            limit to biological simulators,
&gt;                            but I just don't know.
&gt;
&gt;                            I call Zeigler's 'combined-formalism' approach 
&gt;                            as hybrid multi-algorithm framework,  and his 
&gt;                            'embedded-formalism' approach as more like a 
&gt;                            'composite' scheme.
&gt;
&gt;- Other 'hybrid's --  For example, combining dynamic rate equation-based 
&gt;model with
&gt;                             static FDA (flux distribution analysis) 
&gt;                             calculations.   Some people
&gt;                             in our lab. is working on this, and they call 
&gt;                             it 'hybrid algorithm'
&gt;                             Or, combining spatial and non-spatial models, 
&gt;                             or whatever.
&gt;                             There are many possibilities.
&gt;
&gt;
&gt;
&gt; 
&gt;
&gt;&gt;At the last Forum meeting in Ft Lauderdale, Takeshi mentioned that you
&gt;&gt;E-cell people have your own markup language to describe models for
&gt;&gt;E-cell (EML). Is EML capable of describing hybrid models?
&gt;&gt;   
&gt;&gt;
&gt;
&gt;Well EML is much more simpler than SBML, and intended as means of 
&gt;object-persistence
&gt;of E-Cell's simulation model.    So it is a low-level language (like 
&gt;VCML?).   
&gt;So understand E-Cell's object model, and you get what's EML is.
&gt;I have described a bit on this in my previous message to sbml-discuss:
&gt;<A  HREF="http://www.sbw-sbml.org/sbml-discuss/archive/msg00163.html">http://www.sbw-sbml.org/sbml-discuss/archive/msg00163.html</A>
&gt;
&gt;
&gt;-Kouichi
&gt;
&gt;
&gt; 
&gt;
&gt;&gt;&gt;-----Original Message-----
&gt;&gt;&gt;From: Kouichi Takahashi [<A  HREF="mailto:shafi@sfc.keio.ac.jp">mailto:shafi@sfc.keio.ac.jp</A>] 
&gt;&gt;&gt;Sent: 10 June 2003 18:45
&gt;&gt;&gt;To: Takeshi Sakurada
&gt;&gt;&gt;Cc: shafi@sfc.keio.ac.jp; m.j.1.schilstra@herts.ac.uk; 'Ed 
&gt;&gt;&gt;Frank'; 'vijay saraswat'; 'Mike McCollum'; 'Greg Peterson'; 
&gt;&gt;&gt;'Stefan Hoops'; 'Tom Kiehl'
&gt;&gt;&gt;Subject: Re: Hybrid Models Working Group
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;Hi all,
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;     
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;I have a book in front of me called "Theory of Modeling and 
&gt;&gt;&gt;&gt;&gt;Simulation" 2nd ed., by Zeigler, Praehofer &amp; Kim. I remember 
&gt;&gt;&gt;&gt;&gt;listening to a talk on E-cell (can't remember whether it 
&gt;&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;was given 
&gt;&gt;&gt;     
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;by Takeshi), in which this book was cited as the 'basis' 
&gt;&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;for E-cell 
&gt;&gt;&gt;     
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;- is that so, Takeshi?
&gt;&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;I think that was me -- I gave a short talk in the SBML 
&gt;&gt;&gt;meeting at your unversity.  (herts.ac.uk).
&gt;&gt;&gt;
&gt;&gt;&gt;As Takeshi wrote for me, E-Cell Version 3's fundamental 
&gt;&gt;&gt;algorithm is inspired by
&gt;&gt;&gt;Zeigler's rigid theory of discrete event simulation.    
&gt;&gt;&gt;However, the approach is
&gt;&gt;&gt;very different actually.   It's basically unique, except that 
&gt;&gt;&gt;I borrowed some fundamental 
&gt;&gt;&gt;concepts from Zeigler's theory.     Such as:  (1) the fact 
&gt;&gt;&gt;that it can be mathematically
&gt;&gt;&gt;proven that any time driven simulation algorithms can be 
&gt;&gt;&gt;mixed in the framework of discrete event, (2) discrete-event 
&gt;&gt;&gt;scheduling method, and (3), hi classification of simulation 
&gt;&gt;&gt;algorithms (see below).
&gt;&gt;&gt;
&gt;&gt;&gt;Actually I'm now writing my phd thesis on this :)
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;Zeigler proposed two different ways to combine different 
&gt;&gt;&gt;formalisms:  combining and
&gt;&gt;&gt;embedding.   The former means that it is possible to 
&gt;&gt;&gt;'combine' two different algorithms
&gt;&gt;&gt;into one more powerful one (such as Zeigler's DEVS&amp;DESS).    
&gt;&gt;&gt;E-Cell's algorithm
&gt;&gt;&gt;is different, and may be classified into the latter category, 
&gt;&gt;&gt;in which each different
&gt;&gt;&gt;algorithm is embedded in the 'discrete-event world view' as a 
&gt;&gt;&gt;module.   
&gt;&gt;&gt;
&gt;&gt;&gt;One design goal of my algorithm, which I believe is one good 
&gt;&gt;&gt;characteristic of my work, is to keep orthogonality between 
&gt;&gt;&gt;algorithm modules: which means that existing simulation 
&gt;&gt;&gt;algorithms (such as Gillespie, ODE solvers, automata,
&gt;&gt;&gt;and anything) can be used with no or a little modification.     
&gt;&gt;&gt;I think this is very important because we already have many 
&gt;&gt;&gt;simulation algorithms
&gt;&gt;&gt;and many partial models of cellular systems on those 
&gt;&gt;&gt;algorithms.   A big challenge for
&gt;&gt;&gt;a simulator developer now is how to combine these existing 
&gt;&gt;&gt;sub-models to construct a higher-order models (such as a 
&gt;&gt;&gt;whole-cell scale simulation).
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;     
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;To get back to your email, Ed, Zeigler et al. distinguish 3 types
&gt;&gt;&gt;&gt;&gt;(formalisms) of dynamic model specification (as opposed to e.g. 
&gt;&gt;&gt;&gt;&gt;object modelling, in which there is no concept of time): the 
&gt;&gt;&gt;&gt;&gt;Discrete Time (DTSS), Differential Equation (DESS), and Discrete 
&gt;&gt;&gt;&gt;&gt;Event (DEVS) System Specifications. DESS includes ODE and PDE 
&gt;&gt;&gt;&gt;&gt;descriptions. DTSS includes things such as cellular 
&gt;&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;automata (which 
&gt;&gt;&gt;     
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;are updated as a whole in a unit 'time' step).
&gt;&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;This is one thing I borrowed from his theory.  
&gt;&gt;&gt;E-Cell provides three fundamental 'Stepper' classes, 
&gt;&gt;&gt;DiscreteTimeStepper, DifferentialStepper, and DiscreteEventStepper.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;     
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;I think (but I'm not entirely sure) that DEVS includes
&gt;&gt;&gt;&gt;       
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;stochastic models (in which possible state transitions 
&gt;&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;have certain 
&gt;&gt;&gt;     
&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;probabilities), but also threshold models (in which a state 
&gt;&gt;&gt;&gt;&gt;transition occurs when a certain parameter crosses a given 
&gt;&gt;&gt;&gt;&gt;threshold). Have I understood this correctly?
&gt;&gt;&gt;&gt;&gt;         
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;DEVS include stochastic models, but DTS and DES can also be 
&gt;&gt;&gt;stochastic.   
&gt;&gt;&gt;(stochastic automata and stochastic differential equations)
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;Gillespie's family of algorithms is one good example of 
&gt;&gt;&gt;discrete-event simulation framework.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;We have tried to use E-Cell to do composite simulation of 
&gt;&gt;&gt;Gillespie-Gibson and ODE 
&gt;&gt;&gt;(we used Dormand-Prince 4(5)7M algorithm), and we found that
&gt;&gt;&gt;it can improve the performance 600+ times in our case.  
&gt;&gt;&gt;Actually it exceeds both pure-Gillespie and pure-ODE runs.   
&gt;&gt;&gt;We are also trying some other combinations.  
&gt;&gt;&gt;For example, we have a long-term depression model of a neuron 
&gt;&gt;&gt;which has a discrete-time and an ODE sub-models.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;-Kouichi
&gt;&gt;&gt;
&gt;&gt;&gt;P.S.  
&gt;&gt;&gt;If you are interested, more detailed description of E-Cell's 
&gt;&gt;&gt;algorithm is available upon request. 
&gt;&gt;&gt;Sorry, it is still an unpublished work.   
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;     
&gt;&gt;&gt;
&gt;&gt;   
&gt;&gt;




----- End forwarded message -----

-- 
Ed Frank                                            Office:  (630) 252-4548
<A  HREF="http://hep.uchicago.edu/~efrank">http://hep.uchicago.edu/~efrank</A>                     Fax   :  (630) 252-5986
Division of Math &amp; Computer Science                 Argonne National Laboratory


</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00483.html">[sbml-discuss] Re: Hybrid Models Working Group (fwd)</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00485.html">[sbml-discuss] Re: Hybrid Models Working Group (fwd)</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00483.html">[sbml-discuss] Re: Hybrid Models Working Group (fwd)</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00485.html">[sbml-discuss] Re: Hybrid Models Working Group (fwd)</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00484"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00484"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
